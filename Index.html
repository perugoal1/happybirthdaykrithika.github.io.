<!DOCTYPE html>
<html>
<head>
<title>Happy Birthday</title>
<link rel="icon" href="cake.svg" type="image/gif" sizes="16x16">
<link rel="stylesheet" href="./style.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
</head>

<body>
    <div class="card">
        <div class="back"></div>
        <div class="front">
          <div class="cover-shape-large">
            <div class="shape-diamond"></div>
            <div class="shape-block"></div>
          </div>
          <div class="cover-shape-small">
            <div class="shape-diamond"></div>
            <div class="shape-block cake-block" id="open">
              <div class="cake">
                <div class="layer layer-bottom"></div>
                <div class="layer layer-middle"></div>
                <div class="layer layer-top"></div>
                <div class="icing"></div>
                <div class="drip drip1"></div>
                <div class="drip drip2"></div>
                <div class="drip drip3"></div>
                <div class="candle">
                  <div class="flame"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <div class="text-container">
          <!-- <p id="head">Happy Birthday Krithika </p>
          <p>Your first digital birthday card! <span class="strikethrough">Handcrafted</span> Handcoded from scratch just for you.</p>
          <p>Have a Great Year!</p> -->
          <div class="greeting">Happy Birthday Krithika</div>
          <div class="wrapper">
           
            <div class="plate">
              <div class="cake-wrap">
                <div class="cake-topping">
                  <div class="topping-top">
                    <div class="candle-container">
                      <div class="star"></div>
                      <div class="star"></div>
                      <div class="star"></div>
                      <div class="star"></div>
                      <div class="star"></div>
                      <div class="candle-wrap">
                        <div class="flame-wrap"></div>
                        <div class="candle-base">
                          <div class="candle-top"></div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="topping-front">
                    <div class="top-layer"></div>
                    <div class="bottom-layer"></div>
                  </div>
                </div>
                <div class="cake-base">
                  <div class="base-front"></div>
                  <div class="base-top"></div>
                </div>
                
              </div>
              </div>
          </div>
            
          <svg class="svg">
            <clipPath id="my-clip-path" clipPathUnits="objectBoundingBox"><path d="M0,0 V0.481 s0.021,0.37,0.078,0.404 s0.035,-0.296,0.102,-0.27 s0.007,0.363,0.096,0.354 s0.028,-0.466,0.1,-0.487 S0.406,0.999,0.457,0.999 s0.03,-0.502,0.075,-0.518 s0.041,0.488,0.081,0.274 c0.007,-0.038,0.021,-0.187,0.044,-0.215 c0.014,-0.017,0.038,0.401,0.075,0.392 s0.023,-0.28,0.074,-0.392 c0.022,-0.04,0.072,0.359,0.1,0.344 c0.057,-0.029,0.094,-0.405,0.094,-0.405 V-0.001"></path></clipPath>
            <clipPath id="my-flame-path" clipPathUnits="objectBoundingBox"><path d="M0.501,0 s0.188,0.101,0.295,0.238 s0.123,0.15,0.169,0.286 S1,0.74,0.928,0.838 S0.711,1,0.501,1 S0.216,0.937,0.09,0.838 s-0.083,-0.149,0,-0.29 s0.23,-0.139,0.333,-0.276 S0.501,0,0.501,0"></path></clipPath>
            <clipPath id="my-star-path" clipPathUnits="objectBoundingBox"><path d="M0.5,0.846 l-0.309,0.154,0.044,-0.357 L0,0.382 l0.336,-0.067 L0.5,0 l0.164,0.315,0.336,0.067,-0.235,0.261,0.044,0.357"></path></clipPath>
          </svg>
          <div class="wonderful"> <span>Have a Wonderful Year ahead  </span><img src="cone.png" width=20 height=20></img></span></div>
        </div>
      </div>
      <div class="click-here" id="open">
         <span>Click on Your Cake</span>
      </div>

      <div id="fireworks">
        <div class="before"></div>
        <div class="after"></div>
      </div>
      
      <div class="canvas"></div>

      <script>
          
        $('#open').click(function(){
            $( ".card .front" ).addClass( "front-open" );
            $( ".card .back" ).addClass( "back-open" );
            $( "#fireworks" ).addClass( "fireworks" );

            const timeline = gsap.timeline({ duration: 0.3 });


            timeline.fromTo('.cake-topping', {
                yPercent: -150,
                opacity: 0.5 },
                {
                yPercent: 0,
                opacity: 1 });


                timeline.to('.candle-container', {
                opacity: 1 });


                timeline.to('.flame-wrap', {
                scale: 1,
                ease: "back.out" });


                timeline.to('.greeting', {
                scale: 1,
                ease: "back.out" });

                timeline.to('.wonderful', {
                scale: 1,
                ease: "back.out" });


                timeline.to('.star', {
                opacity: 0.5,
                stagger: 0.05,
                onComplete: function () {
                    gsap.to('.star', {
                    scale: 0.25,
                    repeat: -1,
                    stagger: 0.1,
                    yoyo: true,
                    yoyoEase: "power1.out" });

                } });


                $( ".click-here" ).hide();
        })
       
        $('.canvas').click(function(){
            $( ".card .front" ).removeClass( "front-open" );
            $( ".card .back" ).removeClass( "back-open" );
            $( ".click-here" ).show();
        });
       
      </script>
</body>

</html>